(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],{"+CAJ":function(t,e,n){"use strict";n.r(e);var o,i,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("测试录音")]),n("transition",{attrs:{name:"fade",mode:"out-in"}},[t.recording?n("button",{key:"stop",staticClass:"btn mgl",on:{click:t.stopRecord}},[t._v("结束录音")]):n("button",{key:"start",staticClass:"btn",on:{click:t.startRecord}},[t._v("开始录音")])]),n("div",{staticClass:"audio",attrs:{id:"audio"}})],1)},s=[],a=(n("xfY5"),n("wJMH")),c=n.n(a),u={data:function(){return{recording:!1}},created:function(){this.Record=new c.a({encoderPath:"./libs/opus-recorder/dist/encoderWorker.min.js"}),this.Record.ondataavailable=this.voiceData},methods:{startRecord:function(){this.Record.start(),this.recording=!0},stopRecord:function(){this.Record.stop(),console.log(this.Record),this.recording=!1},voiceData:function(t){o&&document.getElementById("audio").removeChild(o),i&&document.getElementById("audio").removeChild(i);var e=new Blob([t],{type:"audio/mp3"});console.log(e),o=document.createElement("audio"),o.src=URL.createObjectURL(e),o.controls=!0,i=document.createElement("div"),i.innerHTML="mp3大小: ".concat((Number(e.size)/1e3).toFixed(2),"kb"),document.getElementById("audio").appendChild(o),document.getElementById("audio").appendChild(i)}}},d=u,f=(n("p9sl"),n("KHd+")),p=Object(f["a"])(d,r,s,!1,null,"0e4c4bbd",null);e["default"]=p.exports},"/e88":function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"4R4u":function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},DVgA:function(t,e,n){var o=n("zhAb"),i=n("4R4u");t.exports=Object.keys||function(t){return o(t,i)}},EemH:function(t,e,n){var o=n("UqcF"),i=n("RjD/"),r=n("aCFj"),s=n("apmT"),a=n("aagx"),c=n("xpql"),u=Object.getOwnPropertyDescriptor;e.f=n("nh4g")?u:function(t,e){if(t=r(t),e=s(e,!0),c)try{return u(t,e)}catch(t){}if(a(t,e))return i(!o.f.call(t,e),t[e])}},FJW5:function(t,e,n){var o=n("hswa"),i=n("y3w9"),r=n("DVgA");t.exports=n("nh4g")?Object.defineProperties:function(t,e){i(t);var n,s=r(e),a=s.length,c=0;while(a>c)o.f(t,n=s[c++],e[n]);return t}},Kuth:function(t,e,n){var o=n("y3w9"),i=n("FJW5"),r=n("4R4u"),s=n("YTvA")("IE_PROTO"),a=function(){},c="prototype",u=function(){var t,e=n("Iw71")("iframe"),o=r.length,i="<",s=">";e.style.display="none",n("+rLv").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+s+"document.F=Object"+i+"/script"+s),t.close(),u=t.F;while(o--)delete u[c][r[o]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[c]=o(t),n=new a,a[c]=null,n[s]=t):n=u(),void 0===e?n:i(n,e)}},UqcF:function(t,e){e.f={}.propertyIsEnumerable},XJHO:function(t,e,n){},Xbzi:function(t,e,n){var o=n("0/R4"),i=n("i5dc").set;t.exports=function(t,e,n){var r,s=e.constructor;return s!==n&&"function"==typeof s&&(r=s.prototype)!==n.prototype&&o(r)&&i&&i(t,r),t}},YTvA:function(t,e,n){var o=n("VTer")("keys"),i=n("ylqs");t.exports=function(t){return o[t]||(o[t]=i(t))}},Ymqv:function(t,e,n){var o=n("LZWt");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},aCFj:function(t,e,n){var o=n("Ymqv"),i=n("vhPU");t.exports=function(t){return o(i(t))}},"d/Gc":function(t,e,n){var o=n("RYi7"),i=Math.max,r=Math.min;t.exports=function(t,e){return t=o(t),t<0?i(t+e,0):r(t,e)}},i5dc:function(t,e,n){var o=n("0/R4"),i=n("y3w9"),r=function(t,e){if(i(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{o=n("m0Pp")(Function.call,n("EemH").f(Object.prototype,"__proto__").set,2),o(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:r}},kJMx:function(t,e,n){var o=n("zhAb"),i=n("4R4u").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,i)}},p9sl:function(t,e,n){"use strict";var o=n("XJHO"),i=n.n(o);i.a},qncB:function(t,e,n){var o=n("XKFU"),i=n("vhPU"),r=n("eeVq"),s=n("/e88"),a="["+s+"]",c="​",u=RegExp("^"+a+a+"*"),d=RegExp(a+a+"*$"),f=function(t,e,n){var i={},a=r(function(){return!!s[t]()||c[t]()!=c}),u=i[t]=a?e(p):s[t];n&&(i[n]=u),o(o.P+o.F*a,"String",i)},p=f.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(d,"")),t};t.exports=f},vhPU:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},w2a5:function(t,e,n){var o=n("aCFj"),i=n("ne8i"),r=n("d/Gc");t.exports=function(t){return function(e,n,s){var a,c=o(e),u=i(c.length),d=r(s,u);if(t&&n!=n){while(u>d)if(a=c[d++],a!=a)return!0}else for(;u>d;d++)if((t||d in c)&&c[d]===n)return t||d||0;return!t&&-1}}},wJMH:function(t,e,n){!function(e,n){t.exports=n()}("undefined"!=typeof self&&self,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";(function(e){var n=e.AudioContext||e.webkitAudioContext,o=function(t){if(!o.isRecordingSupported())throw new Error("Recording is not supported in this browser");this.state="inactive",this.config=Object.assign({bufferLength:4096,encoderApplication:2049,encoderFrameSize:20,encoderPath:"encoderWorker.min.js",encoderSampleRate:48e3,leaveStreamOpen:!1,maxBuffersPerPage:40,mediaTrackConstraints:!0,monitorGain:0,numberOfChannels:1,recordingGain:1,resampleQuality:3,streamPages:!1,wavBitDepth:16},t),this.initWorker()};o.isRecordingSupported=function(){return n&&e.navigator&&e.navigator.mediaDevices&&e.navigator.mediaDevices.getUserMedia&&e.WebAssembly},o.prototype.clearStream=function(){this.stream&&(this.stream.getTracks?this.stream.getTracks().forEach(function(t){t.stop()}):this.stream.stop(),delete this.stream),this.audioContext&&(this.audioContext.close(),delete this.audioContext)},o.prototype.encodeBuffers=function(t){if("recording"===this.state){for(var e=[],n=0;n<t.numberOfChannels;n++)e[n]=t.getChannelData(n);this.encoder.postMessage({command:"encode",buffers:e})}},o.prototype.initAudioContext=function(t){return t&&t.context&&(this.audioContext=t.context),this.audioContext||(this.audioContext=new n),this.audioContext},o.prototype.initAudioGraph=function(){var t=this;this.encodeBuffers=function(){delete this.encodeBuffers},this.scriptProcessorNode=this.audioContext.createScriptProcessor(this.config.bufferLength,this.config.numberOfChannels,this.config.numberOfChannels),this.scriptProcessorNode.connect(this.audioContext.destination),this.scriptProcessorNode.onaudioprocess=function(e){t.encodeBuffers(e.inputBuffer)},this.monitorGainNode=this.audioContext.createGain(),this.setMonitorGain(this.config.monitorGain),this.monitorGainNode.connect(this.audioContext.destination),this.recordingGainNode=this.audioContext.createGain(),this.setRecordingGain(this.config.recordingGain),this.recordingGainNode.connect(this.scriptProcessorNode)},o.prototype.initSourceNode=function(t){var n=this;return t&&t.context?e.Promise.resolve(t):this.stream&&this.sourceNode?e.Promise.resolve(this.sourceNode):e.navigator.mediaDevices.getUserMedia({audio:this.config.mediaTrackConstraints}).then(function(t){return n.stream=t,n.audioContext.createMediaStreamSource(t)})},o.prototype.initWorker=function(){var t=this;this.recordedPages=[],this.totalLength=0,this.encoder=new e.Worker(this.config.encoderPath),this.encoder.addEventListener("message",this.config.streamPages?function(e){t.streamPage(e.data)}:function(e){t.storePage(e.data)})},o.prototype.pause=function(){"recording"===this.state&&(this.state="paused",this.onpause())},o.prototype.resume=function(){"paused"===this.state&&(this.state="recording",this.onresume())},o.prototype.setRecordingGain=function(t){this.config.recordingGain=t,this.recordingGainNode&&this.audioContext&&this.recordingGainNode.gain.setTargetAtTime(t,this.audioContext.currentTime,.01)},o.prototype.setMonitorGain=function(t){this.config.monitorGain=t,this.monitorGainNode&&this.audioContext&&this.monitorGainNode.gain.setTargetAtTime(t,this.audioContext.currentTime,.01)},o.prototype.start=function(t){if("inactive"===this.state){var e=this;return this.initAudioContext(t),this.initAudioGraph(),this.initSourceNode(t).then(function(t){e.state="recording",e.encoder.postMessage(Object.assign({command:"init",originalSampleRate:e.audioContext.sampleRate,wavSampleRate:e.audioContext.sampleRate},e.config)),e.sourceNode=t,e.sourceNode.connect(e.monitorGainNode),e.sourceNode.connect(e.recordingGainNode),e.onstart()})}},o.prototype.stop=function(){"inactive"!==this.state&&(this.state="inactive",this.monitorGainNode.disconnect(),this.scriptProcessorNode.disconnect(),this.recordingGainNode.disconnect(),this.sourceNode.disconnect(),this.config.leaveStreamOpen||this.clearStream(),this.encoder.postMessage({command:"done"}))},o.prototype.storePage=function(t){if(null===t){var e=new Uint8Array(this.totalLength);this.recordedPages.reduce(function(t,n){return e.set(n,t),t+n.length},0),this.ondataavailable(e),this.initWorker(),this.onstop()}else this.recordedPages.push(t),this.totalLength+=t.length},o.prototype.streamPage=function(t){null===t?(this.initWorker(),this.onstop()):this.ondataavailable(t)},o.prototype.ondataavailable=function(){},o.prototype.onpause=function(){},o.prototype.onresume=function(){},o.prototype.onstart=function(){},o.prototype.onstop=function(){},t.exports=o}).call(this,n(0))}])})},xfY5:function(t,e,n){"use strict";var o=n("dyZX"),i=n("aagx"),r=n("LZWt"),s=n("Xbzi"),a=n("apmT"),c=n("eeVq"),u=n("kJMx").f,d=n("EemH").f,f=n("hswa").f,p=n("qncB").trim,h="Number",l=o[h],g=l,m=l.prototype,v=r(n("Kuth")(m))==h,y="trim"in String.prototype,x=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():p(e,3);var n,o,i,r=e.charCodeAt(0);if(43===r||45===r){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+e}for(var s,c=e.slice(2),u=0,d=c.length;u<d;u++)if(s=c.charCodeAt(u),s<48||s>i)return NaN;return parseInt(c,o)}}return+e};if(!l(" 0o1")||!l("0b1")||l("+0x1")){l=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof l&&(v?c(function(){m.valueOf.call(n)}):r(n)!=h)?s(new g(x(e)),n,l):x(e)};for(var b,C=n("nh4g")?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;C.length>w;w++)i(g,b=C[w])&&!i(l,b)&&f(l,b,d(g,b));l.prototype=m,m.constructor=l,n("KroJ")(o,h,l)}},zhAb:function(t,e,n){var o=n("aagx"),i=n("aCFj"),r=n("w2a5")(!1),s=n("YTvA")("IE_PROTO");t.exports=function(t,e){var n,a=i(t),c=0,u=[];for(n in a)n!=s&&o(a,n)&&u.push(n);while(e.length>c)o(a,n=e[c++])&&(~r(u,n)||u.push(n));return u}}}]);
//# sourceMappingURL=0.27a83ce1.js.map